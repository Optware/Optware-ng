--- emu/Linux/asm-arm.S.orig	2007-11-06 15:15:32.000000000 -0800
+++ emu/Linux/asm-arm.S	2007-11-07 07:08:57.000000000 -0800
@@ -126,6 +126,7 @@
 	@ link register save eliminated.
 	@ lr needed for prologue
 	mov	r3, #1
-	swp	r0, r3, [r0]
+	swp	r3, r3, [r0]
+	mov	r0, r3
 	mov	pc, lr
 	.size	_tas, .-_tas
