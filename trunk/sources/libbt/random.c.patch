--- src/random.c	2004-04-16 00:59:45.000000000 -0400
+++ src/random.c	2005-05-13 08:25:31.670000000 -0400
@@ -24,7 +24,7 @@
 void seed_rnd( char *buf, int len) {
     char dg[SHA_DIGEST_LENGTH];
     SHA1( buf, len, dg);
-    seed48( (unsigned short*)dg);
+    srand( (unsigned short*)dg);
 }
 #endif
 
@@ -63,7 +63,7 @@
 
 #if !WIN32
 int rnd(int randmax) {
-    double r = drand48();
+    double r = rand();
     int rval = r*randmax;
     if (rval >= randmax || rval < 0) rval=randmax-1;
     return rval;
@@ -75,8 +75,8 @@
     double v1=0, v2=0;
     double s, x1;
     do {
-	v1 = drand48() * 2 - 1;
-	v2 = drand48() * 2 - 1;
+	v1 = rand() * 2 - 1;
+	v2 = rand() * 2 - 1;
 	s = v1+v2;
     } while (s >= 1.0);
     x1 = v1 * sqrt( (-2 * log(s)) / s);
